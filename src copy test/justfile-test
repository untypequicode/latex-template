# justfile - tâches pour construire le projet LaTeX
# Cible 'build' : compile le fichier test.tex deux fois (utile pour résoudre les références croisées)
# Cible 'watch' : surveille les fichiers .tex et relance 'just build' à chaque modification
# Cible 'clean' : supprime les fichiers auxiliaires générés par LaTeX
# Cible 'cleanall' : effectue 'clean' puis supprime le(s) PDF généré(s)

build-test:
    pdflatex test.tex
    pdflatex test.tex

watch:
    while true; do \
        inotifywait -qe modify *.tex content/*.tex 2>/dev/null; \
        just build; \
    done

clean:
    rm -f *.aux *.log *.out *.toc *.fls *.fdb_latexmk *.synctex.gz

cleanall: clean
    rm -f *.pdf
